<p-toast></p-toast>
<div class="container">
    <h2 > <i class="pi pi-user-plus"></i> Ingrese un nuevo Cliente </h2>
    <br>
    <div class="container">
        <p-accordion  >
            <p-accordionTab header="Nuevo Cliente">
                <div class="container-form">
                <form  id="crearUsuario">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Nombre User</label>
                                <input type="text" class="form-control" aria-describedby="nombreCl"  name="nombreCl" [(ngModel)] = "nuevoCliente.nombreCl" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Apellido 1</label>
                                <input type="text" class="form-control" aria-describedby="apellido1" name="apellido1" [(ngModel)] = "nuevoCliente.apellido1" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Apellido 2</label>
                                <input type="text" class="form-control" aria-describedby="apellido2" name="apellido2" [(ngModel)] = "nuevoCliente.apellido2" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Ciudad</label>
                                <input type="text" class="form-control" aria-describedby="ciudad" name="ciudad" [(ngModel)] = "nuevoCliente.ciudad" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Clase Via</label>
                                <input type="text" class="form-control" aria-describedby="claseVia" name="claseVia" [(ngModel)] = "nuevoCliente.claseVia" required>
                            </div> 
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Nombre Via</label>
                                <input type="text" class="form-control" aria-describedby="nombreVia" name="nombreVia" [(ngModel)] = "nuevoCliente.nombreVia" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Numero VIA</label>
                                <input type="number" class="form-control" aria-describedby="numeroVia" name="numeroVia" [(ngModel)] = "nuevoCliente.numeroVia" required>
                            </div> 
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Codigo Postal</label>
                                <input type="number" class="form-control" aria-describedby="codPostal" name="codPostal" [(ngModel)] = "nuevoCliente.codPostal" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Telefono</label>
                                <input type="number" class="form-control" aria-describedby="telefono" name="telefono" [(ngModel)] = "nuevoCliente.telefono" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Observaciones</label>
                                <input type="text" class="form-control" aria-describedby="observaciones" name="observaciones" [(ngModel)] = "nuevoCliente.observaciones" required>
                            </div>
                        </div>
                    </div>
             
                </form>
                <div class="row">
                    <div class="col-md-12">
                        <button type="button" class="btn btn-primary" (click)="registrarCliente()">Registrar Usuario</button>
                    </div>
                </div>
            </div>
            </p-accordionTab>
        </p-accordion>
        </div>

<hr>
<br>
</div>




<div class="container">
    <h2> Clientes </h2>
    <br>
    <p-table [value]="usuarios"  [scrollable]="true"  scrollHeight="400px"
    [paginator]="true" [rows]="4"  [lazy]="true" [totalRecords]="totalElements" [loading]="loading" [pageLinks]="5"  (onLazyLoad)="obtenerPorPaginas($event)" 
    >
        <ng-template pTemplate="header">
            <tr>
                <th>Dni</th>
                <th>Nombre Cliente</th>
                <th>Apellido 1</th>
                <th>Apellido 2</th>
                <th>Ciudad</th>
                <th>Clase Via</th>
                <th>CodPostal</th>
                <th>telefono</th>
                <th>Observaciones</th>
                <th>Opciones</th>

            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-usuarios>
            <tr [pReorderableRow]="usuarios.dniCl">
                <td>{{usuarios.dniCl}}</td>
                <td>{{usuarios.nombreCl}}</td>
                <td>{{usuarios.apellido1}}</td>
                <td>{{usuarios.apellido2}}</td>
                <td>{{usuarios.ciudad}}</td>
                <td>{{usuarios.claseVia}}</td>
                <td>{{usuarios.codPostal}}</td>
                <td>{{usuarios.telefono}}</td>
                <td>{{usuarios.observaciones}}</td>
                <td> <div class="col-md-6">
                    <p-button icon="pi pi-pencil" (onClick)="modificarCliente(usuarios)" styleClass="p-button-warning"></p-button>
                </div>
                <div class="col-md-6">  
                    <p-button icon="pi pi-trash" (onClick)="deleteUser(usuarios.dniCl)" styleClass="p-button-danger"></p-button>
                </div>
                </td>
             
            </tr>
        </ng-template>
    </p-table>
    <p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog> 
</div>
<br>